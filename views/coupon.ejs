<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use coupons</title>
</head>
<style>
    * {
        padding: 0;
        margin: 0;
    }

    body {
        font-family: sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .grand-container {
        margin-top: 3%;
        width: 20rem;
    }

    .arrow-back {
        padding: 16px;
        color: #000;
        text-decoration: none;
    }

    h1 {
        margin-top: -20px;
        font-size: 20px;
        margin-left: 45px;
    }

    .main-container {
        padding: 16px 24px;
        max-width: 500px;
    }

    .container1 {
        background-color: #e4f5e3;
        display: grid;
        grid-template-columns: 1fr 2fr;
        border-radius: 10px;
        border: 1.5px solid #cff3cd;
        border-bottom: none;
        max-width: 100%;
    }

    .coupon-days {
        /* padding: 40px 10px; */
        color: #299e29;
        font-weight: bold;
        font-size: 1.5rem;
        border-radius: 5px;
        display: flex;
        justify-content: center;
        align-items: center;
        border-right: 1px dashed #afaeae;
        border-bottom: 1px dashed #afaeae;
    }

    .rules {
        font-size: 13px;
        padding: 10px;
        border-radius: 10px;
        background-color: #e4f5e3;
        border: 1.5px solid #cff3cd;
        border-top: none;
        border-bottom: none;
        cursor: pointer;
    }

    .rules-content {
        background-color: #e4f5e3;
        font-size: 12px;
        overflow: hidden;
        margin-top: -5px;
        padding: 12px 24px;
    }

    .rules-content.active {
        max-height: 200px; /* Adjust based on content */
        padding: 12px;
    }

    .active-arrow {
        transition: transform 0.3s ease;
        display: inline-block;
    }

    .active-arrow.active {
        transform: rotate(90deg);
    }

    h2 {
        font-size: 1rem;
        padding: 8px;
    }

    .coupon-details {
        font-size: 12px;
        padding: 5px;
        border-bottom: 1px dashed #afaeae;
        border-radius: 10px;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
    }

     .check-mark {
        position: absolute;
        top: 7.8rem;
        right: 1rem;
        color: white;
        background: #299e29;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 20px;
        height: 20px;
        font-weight: bold;
        opacity: 0;
        transform: scale(0.5);
        transition: all 0.3s ease;
    }

    .coupon-details.selected .check-mark{
        opacity: 1;
        transform: scale(1);
    }

    .coupon-details p  {
        padding: 5px;
    }

    .container2 {
        background-color: #e4f5e3;
        display: grid;
        grid-template-columns: 1fr 2fr;
        border-radius: 10px;
        border: 1.5px solid #cff3cd;
        max-width: 100%;
        margin-top: 10px;
    }
</style>
<body>
    <div class="grand-container">
        <a href="/loan-offer" class="arrow-back">ðŸ¡°</a>
        <h1>My Coupons</h1>
        <div class="main-container">
            <div class="container1">
                <div class="coupon-days">5 Days</div>
                <div class="coupon-details" data-coupon-name="5 Days Free" data-coupon-type="days" data-code="FREE20%" data-value="20">
                    <h2>Interest Free</h2>
                    <p>Min Loan Amount: <strong>2,000</strong></p>
                    <p>valid Until: <strong>18 Aug 2025</strong></p>
                    <p>Valid Tenure: <strong>30+ days</strong></p>
                    <div class="check-mark">âœ“</div>
                </div>
            </div>
            <div class="rules-container">
                <div class="rules">
                    Rules Of Use <span class="active-arrow">&#10095;</span>
                </div>
                <div class="rules-content">
                    <p>For cash loan</p>
                    <p>For old customers</p>
                    <p>Loan amount â‚¦2000 can be used</p>
                    <p>For installment loan and non-installment loan</p>
                    <p>For 30+ days tenure</p>

                    <p>You can enjoy 5 days interest free. Maximum deduction amount â‚¦100000</p> 
                </div>
            </div>

            <div class="container2">
                <div class="coupon-days">20%</div>
        
                <div class="coupon-details" data-coupon-name="20% Off" data-coupon-type="percent" data-code="FREE20%" data-value="20">
                    <h2>Interest Free</h2>
                    <p>Min Loan Amount: <strong>â‚¦2,000</strong></p>
                    <p>valid Until: <strong>Aug 2025</strong></p>
                    <p>Valid Tenure: <strong>30+ days</strong></p>
                    <div class="check-mark">âœ“</div>
                </div>
            </div>
            <div class="rules-container">
                <div class="rules">
                    Rules Of Use <span class="active-arrow">&#10095;</span>
                </div>
                <div class="rules-content">
                    <p>For cash loan</p>
                    <p>For old customers</p>
                    <p>Loan amount â‚¦2000 can be used</p>
                    <p>For installment loan and non-installment loan</p>
                    <p>For 30+ days tenure</p>

                    <p>You can enjoy 5 days interest free. Maximum deduction amount â‚¦100000</p> 
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const rules = document.querySelectorAll(".rules");
        const couponDetails = document.querySelectorAll(".coupon-details");
        const returnDelay = 1000;

        // Hide all content initially
        document.querySelectorAll(".rules-content").forEach(content => {
            content.style.display = "none";
        });

        rules.forEach(rule => {
            rule.addEventListener("click", function(e) {
                e.stopPropagation(); //Prevent trigerring coupon selection

                const content = this.nextElementSibling;
                const arrow = this.querySelector(".active-arrow");

                // Toggle content visibility
                if (content.style.display === "none") {
                    content.style.display = "block";
                    arrow.classList.add("active");
                } else {
                    content.style.display = "none";
                    arrow.classList.remove("active");
                }
            });
        });

        couponDetails.forEach(detail => {
            detail.addEventListener("click", function() {
                // Get coupon details
                const couponData = {
                    name: this.dataset.couponName,
                    type: this.dataset.couponType,
                    code: this.dataset.code,
                    value: this.dataset.value
                };

                // Set cookie that expires in 7 days
                document.cookie = `selectedCoupon=${encodeURIComponent(JSON.stringify(couponData))}; path=/; max-age=${7 * 24 * 60 * 60}; SameSite=Lax`;
                                
                // Remove selection from all
                couponDetails.forEach(d => d.classList.remove("selected"));

                // Mark this one as selected
                this.classList.add("selected");

                // Return to loan offer after delay
                setTimeout(() => {
                    window.location.href = "/loan-offer";
                }, returnDelay);

            });
        });

    });
</script>
</html>
